# ====== R Scipt for take home exercise solution ===
covid_cases <- readRDS("day1/data/covid_cases.rds")
View(covid_cases)
# Nhiem vu 2: Tính toán đơn giản
library(janitor)
library(tidyverse)
library(skimr)
library(readxl)
library(haven)
library(lubridate)
View(covid_cases)
tibble(covid_cases)
View(covid_cases)
first_report_date <- max(x = covid_cases, na.rm = TRUE)
str(covid_cases)
first_report_date <- min(covid_cases$date, na.rm = TRUE)
last_report_date <- max(covid_cases$date, na.rm = TRUE)
test_1 <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = sum(covid_cases[,-1]), na.rm = TRUE) %>%
ungroup()
View(test_1)
test_2 <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = rowsum(covid_cases[-1,], na.rm = TRUE)) %>%
ungroup()
test_2 <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = rowsum(covid_cases[,-date], na.rm = TRUE)) %>%
ungroup()
test_2 <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = rowsum(covid_cases[,-1], na.rm = TRUE)) %>%
ungroup()
covid_cases[,-1] <- as.numeric(covid_cases[,-1])
covid_cases <- tibble(covid_cases)
first_report_date <- min(covid_cases$date, na.rm = TRUE)
last_report_date <- max(covid_cases$date, na.rm = TRUE)
covid_cases[,-1] <- as.numeric(covid_cases[,-1])
covid_cases[,-"date"] <- as.numeric(covid_cases[,-"date"])
covid_cases <- covid_cases %>%
mutate(across(everything(), as.numeric))
str(covid_cases)
# ====== R Scipt for take home exercise solution ===
# Nhiem vu 1: Nhap du lieu
covid_cases <- readRDS("day1/data/covid_cases.rds")
covid_cases <- tibble(covid_cases)
covid_cases <- covid_cases %>%
mutate(across(2:ncol(), as.numeric))
covid_cases <- covid_cases %>%
mutate(across(2:ncol(covid_cases), as.numeric))
srt(covid_cases)
str(covid_cases)
View(test_1)
test_1 <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = rowsum(across(2:ncol(covid_cases), na.rm = TRUE))) %>%
ungroup()
rlang::last_trace()
test_1  <- covid_cases %>% group_by(covid_cases$date) %>%
mutate(case_global = rowsum(across(2:ncol(covid_cases)))) %>%
ungroup()
country_list <- covid_cases[,-1]
View(country_list)
country_list <- colnames(covid_cases[,-1])
test_1 <- covid_cases %>% group_by(covid_cases$date) %>% rowsum(country_list)
test_1 <- covid_cases %>%
group_by(date) %>%
summarise(case_global = sum(across(all_of(country_list), sum, na.rm = TRUE))) %>%
ungroup()
View(test_1)
test_1 <- covid_cases %>% group_by(date)
View(test_1)
View(test_1)
test_1 <- covid_cases %>% group_by(date) %>% summarise(cases_global = sum(country_list))
test_1 <- covid_cases %>% group_by(date) %>% summarise(cases_global = across(all_of(country_list), sum, na,rm=TRUE))
test_1 <- covid_cases %>% group_by(date) %>% summarise(cases_global = across(all_of(country_list), sum, na.rm=TRUE))
View(test_1)
test_1 <- covid_cases %>% group_by(date) %>% summarise(cases_global = across(all_of(country_list), sum, na.rm=TRUE)) %>%  ungroup()
View(test_1)
test_1 <- covid_cases %>%
group_by(date) %>%
summarise(case_global = sum(across(all_of(country_list), sum, na.rm = TRUE))) %>%
ungroup()
test_1 <- rowSums(covid_cases[,-1])
test_1 <- as.data.frame(test_1)
View(test_1)
test_1 <- covid_cases %>%
group_by(date) %>% rowSums(covid_cases[,-1])
test_1 <- covid_cases %>%
+               group_by(date) %>% rowSums(country_list)
covid_cases$case_global <- rowSums(covid_cases[,-1])
View(covid_cases)
covid_cases$case_global <- rowSums(covid_cases[,-1])
View(covid_cases)
case_global <- rowSums(covid_cases[,-1])
covid_cases[["case_global"]] <- rowSums(covid_cases[,-1])
covid_cases$case_global <- as.data.frame(rowSums(covid_cases[,-1]))
case_global <- as.data.frame(rowSums(covid_cases[,-1]))
View(test_1)
View(case_global)
View(test_1)
test_1 <- rowSums(covid_cases[,country_list])
str(test_1)
View(covid_cases)
print(covid_cases$case_global)
country_list <- colnames(covid_cases[,-1])
test_1 <- rowSums(covid_cases[,country_list])
test_1 <- rowSums(covid_cases[,-1])
test_1 <- data.frame(
date = covid_cases$date,
case_global = rowsum(as.matrix(covid_cases[, country_list]), group = covid_cases$date)[, 1]
)
View(test_1)
test_1 <- data.frame(
case_global = rowsum(as.matrix(covid_cases[, country_list]), group = covid_cases$date)[, 1]
)
View(test_1)
test_1 <- covid_cases %>% group_by(covid_cases$date) %>% rowsum(country_list)
test_1 <- covid_cases %>% group_by(date) %>% rowsum(country_list)
test_1 <- covid_cases %>% group_by(date) %>% rowsum(covid_cases[,-1])
# ====== R Scipt for take home exercise solution ===
# Nhiem vu 1: Nhap du lieu
covid_cases <- readRDS("day1/data/covid_cases.rds")
# Nhiem vu 2: Tính toán đơn giản
library(janitor)
library(tidyverse)
library(skimr)
library(readxl)
library(haven)
library(lubridate)
library(dplyr)
covid_cases <- tibble(covid_cases)
first_report_date <- min(covid_cases$date, na.rm = TRUE)
last_report_date <- max(covid_cases$date, na.rm = TRUE)
covid_cases <- covid_cases %>%
mutate(across(2:ncol(covid_cases), as.numeric))
str(covid_cases)
covid_cases$case_global <- rowSums(covid_cases[,-1])
covid_casese[["percent_chn"]] <- (covid_cases$cases_chn/covid_cases$case_global)*100
covid_cases[["percent_chn"]] <- (covid_cases$cases_chn/covid_cases$case_global)*100
View(covid_cases)
print(covid_cases$percent_chn)
compute_percent <- function(country, data){
percent_name <- paste("percent_", "name", sep = "")
country_name <- paste("country_", "name", sep = "")
data[["percent_name"]] <- (data$country_name/data$global_cases)*100
}
